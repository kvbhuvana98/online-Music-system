@*@model IEnumerable<WebApplication1.Models.MusicCategory>
    @{
        ViewBag.Title = "View Musics by Category";
        Layout = "~/Views/Shared/_Layout.cshtml";
    }

    <h2>View Musics by Category</h2>

    @foreach (var category in Model)
    {
        <h3 class="mt-4">@category.Name</h3>
        <div class="row">
            @if (category.ViewMusics != null && category.ViewMusics.Any())
            {
                foreach (var music in category.ViewMusics)
                {
                    <div class="col-md-4 mb-4">
                        <div class="card h-100 p-3 shadow-sm">
                            <strong>@music.Title</strong><br />
                            <small>Artist: @music.Artist</small><br />
                            <a href="@music.MusicUrl" target="_blank" class="btn btn-success mt-2">
                                ▶️ Play on Spotify
                            </a>
                            @if (Session["IsAdmin"] != null && (bool)Session["IsAdmin"])
                            {
                                <a href="@Url.Action("Delete", "ViewMusicAdmin", new { id = music.ViewMusicId })"
                                   class="btn btn-outline-danger mt-2"
                                   onclick="return confirm('Are you sure you want to delete this music?');">
                                    🗑 Delete
                                </a>
                            }

                        </div>
                    </div>
                }
            }
            else
            {
                <p class="text-muted">No music available in this category yet.</p>
            }
        </div>
    }*@

@model IEnumerable<WebApplication1.Models.MusicCategory>
    @{
        ViewBag.Title = "View Musics by Category";
        Layout = "~/Views/Shared/_Layout.cshtml";
    }

    <h2 class="mb-5 text-center text-success fw-bold">🎧 Browse Music by Category</h2>

    @foreach (var category in Model)
    {
        <div class="p-4 rounded-3 mb-5" style="background-color: #f5f9ff;">
            <h3 class="text-primary border-bottom pb-2 mb-4 fw-semibold">
                🎼 @category.Name
            </h3>

            <div class="row">
                @if (category.ViewMusics != null && category.ViewMusics.Any())
                {
                    foreach (var music in category.ViewMusics)
                    {
                        <div class="col-md-4 mb-4">
                            <div class="card h-100 shadow border-0">
                                <div class="card-body d-flex flex-column bg-white">
                                    <h5 class="card-title text-dark fw-bold mb-2">🎵 @music.Title</h5>
                                    <p class="text-secondary mb-3">
                                        <i class="bi bi-person-fill"></i> <strong>Artist:</strong> @music.Artist
                                    </p>

                                    <div class="mt-auto">
                                        <a href="@music.MusicUrl" target="_blank"
                                           class="btn btn-success btn-sm w-100 mb-2">
                                            ▶️ Listen on Spotify
                                        </a>

                                        @if (Session["IsAdmin"] != null && (bool)Session["IsAdmin"])
                                        {
                                            <a href="@Url.Action("Delete", "ViewMusicAdmin", new { id = music.ViewMusicId })"
                                               class="btn btn-outline-danger btn-sm w-100"
                                               onclick="return confirm('Are you sure you want to delete this music?');">
                                                🗑 Delete
                                            </a>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div class="col-12">
                        <p class="text-muted fst-italic">No music available in this category yet.</p>
                    </div>
                }
            </div>
        </div>
    }

@*@model IEnumerable<WebApplication1.Models.MusicCategory>

@{
    ViewBag.Title = "View Musics by Category";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-center my-4 fw-bold text-dark">🎧 Explore by Category</h2>

@foreach (var category in Model)
{
    string backgroundImage = "";

    if (category.Name == "devotin")
    {
        backgroundImage = "url('/Content/Images/musi.jpg')";
    }
    else if (category.Name == "sa")
    {
        backgroundImage = "url('/Content/Images/music2ic.jpg')";
    }
    else if (category.Name == "lov")
    {
        backgroundImage = "url('/Content/Images/music3.jpg')";
    }
    else
    {
        backgroundImage = "url('/Content/Images/default-bg.jpg')";
    }

    <div class="p-4 rounded-3 mb-5 text-"
         style="background-image: @backgroundImage; background-size: ; background-position: center; background-blend-mode: multiply; background-color: rgba(0,0,0,0);">
        <h3 class="border-bottom pb-2 mb-4 fw-bold text-white">🎼 @category.Name</h3>

        <div class="row">
            @if (category.ViewMusics != null && category.ViewMusics.Any())
            {
                foreach (var music in category.ViewMusics)
                {
                    <div class="col-md-4 mb-4">
                        <div class="card h-100 shadow border-0">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title fw-bold text-dark">@music.Title</h5>
                                <p class="card-text text-muted">
                                    🎤 <strong>Artist:</strong> @music.Artist
                                </p>
                                <a href="@music.MusicUrl" target="_blank" class="btn btn-success btn-sm mt-auto">
                                    ▶️ Play on Spotify
                                </a>
                                @if (Session["IsAdmin"] != null && (bool)Session["IsAdmin"])
                                {
                                    <a href="@Url.Action("Delete", "ViewMusicAdmin", new { id = music.ViewMusicId })"
                                       class="btn btn-outline-danger btn-sm mt-2"
                                       onclick="return confirm('Are you sure you want to delete this music?');">
                                        🗑 Delete
                                    </a>
                                }
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <p class="text-light ms-3">No music available in this category yet.</p>
            }
        </div>
    </div>
}*@

